// ResponsiveTabs.js | Version:1.10 | Author:Pete Love | www.petelove.com
var RESPONSIVEUI={};(function(e){RESPONSIVEUI.responsiveTabs=function(){var t=e(".tabs");if(!t.hasClass("tabs-enabled")){t.addClass("tabs-enabled");var n=1;t.each(function(){var t=e(this);t.children(":header").addClass("tabs-heading");t.children("div").addClass("tabs-panel");var r=t.find(".tabs-panel-active");if(!r.length){r=t.find(".tabs-panel").first().addClass("tabs-panel-active")}t.find(".tabs-panel").not(".tabs-panel-active").hide().attr("aria-hidden","true");r.attr("aria-hidden","false");r.addClass("panel-closed-accordion-only");var i=e("<div/>",{"class":"responsive-tabs-wrapper"});t.wrap(i);var s=0;t.find("._panel").each(function(){var t=e(this).height();if(t>s){s=t}});var o=e("<ul/>",{"class":"list",role:"tablist"});var u=1;t.find(".tabs-heading").each(function(){var r=e(this);var a=e(this).next();r.attr("tabindex",0);var f=e("<li/>",{"class":"list-item",id:"tablist"+n+"-tab"+u,"aria-controls":"tablist"+n+"-panel"+u,role:"tab",tabindex:0,text:r.text(),keydown:function(e){if(e.keyCode===13){f.click()}},click:function(){i.css("height",s);t.find(".panel-closed-accordion-only").removeClass("panel-closed-accordion-only");t.find(".tabs-panel-active").toggle().removeClass("tabs-panel-active").attr("aria-hidden","true").prev().removeClass("tabs-heading-active");a.fadeToggle().addClass("tabs-panel-active").attr("aria-hidden","false");r.addClass("tabs-heading-active");o.find(".list-item-active").removeClass("list-item-active");f.addClass("list-item-active");i.css("height","auto")}});a.attr({role:"tabpanel","aria-labelledby":f.attr("id"),id:"tablist"+n+"-panel"+u});if(a.hasClass("tabs-panel-active")){f.addClass("list-item-active")}o.append(f);r.keydown(function(e){if(e.keyCode===13){r.click()}});r.click(function(){t.find(".panel-closed-accordion-only").removeClass("panel-closed-accordion-only");if(!r.hasClass("tabs-heading-active")){var n,i=t.find(".tabs-heading-active");if(i.length){n=i.offset().top}t.find(".tabs-panel-active").slideToggle().removeClass("tabs-panel-active").prev().removeClass("tabs-heading-active");t.find(".tabs-panel").hide().attr("aria-hidden","true");a.slideToggle().addClass("tabs-panel-active").attr("aria-hidden","false");r.addClass("tabs-heading-active");var s=t.find(".list-item-active");s.removeClass("list-item-active");var o=a.attr("id");var u=o.replace("panel","tab");e("#"+u).addClass("list-item-active");var f=t.offset().top;var l=r.offset().top-15;if(n<l){e("html, body").animate({scrollTop:f},0).animate({scrollTop:l},400)}}else{a.removeClass("tabs-panel-active").slideToggle(function(){e(this).addClass("panel-closed-accordion-only")});r.removeClass("tabs-heading-active")}});u++});t.prepend(o);n++})}}})(jQuery)